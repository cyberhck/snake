{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Game.ts","webpack:///./src/Queue.ts","webpack:///./src/Renderer.ts","webpack:///./src/index.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;AC1EA;IAeI,cAAoB,KAAoB,EAAU,UAA2B;QAA3B,gDAA2B;QAAzD,UAAK,GAAL,KAAK,CAAe;QAAU,eAAU,GAAV,UAAU,CAAiB;QAdrE,aAAQ,GAAW;YACvB,QAAQ,EAAE,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;YACtB,KAAK,EAAE,MAAM;SAChB,CAAC;QAGM,cAAS,GAAe,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC;QAC5B,UAAK,GAAG,EAAE,CAAC;QACX,UAAK,GAAG,EAAE,CAAC;QACpB,gBAAW,GAAW,IAAI,CAAC;QAC3B,eAAU,GAAY,KAAK,CAAC;QAC5B,aAAQ,GAAW,CAAC,CAAC;QACrB,iBAAY,GAAW,CAAC,CAAC;QAG7B,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC5B,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,UAAU,CAAC;QACjC,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAEM,6BAAc,GAArB;QACI,OAAO,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC;IAEM,8BAAe,GAAtB;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC;IACtC,CAAC;IAEM,wBAAS,GAAhB;QACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC;QAClC,IAAM,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,CAAC;QAC5E,IAAI,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAE;YAClE,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;aAAM;YACH,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACvB;QACD,IAAI,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;YAC9C,IAAI,CAAC,kBAAkB,CAAC,oBAAoB,CAAC,CAAC;YAC9C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,OAAO;SACV;QACD,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE;YAC5G,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,CAAC;YAC7C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,OAAO;SACV;QACD,mCAAmC;QACnC,kCAAkC;QAClC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IAEM,mBAAI,GAAX,UAAY,EAAU;QAClB,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,OAAO;SACV;QACD,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,EAAE,GAAG,IAAI,CAAC,QAAQ,GAAG,GAAG,EAAE;YAC1B,OAAO;SACV;QACD,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAEM,yBAAU,GAAjB,UAAkB,EAA4B;QAC1C,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;IACjC,CAAC;IAEM,sBAAO,GAAd;QACI,IAAI,CAAC,mBAAmB,EAAE,KAAK,OAAO,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACvE,CAAC;IAEM,uBAAQ,GAAf;QACI,IAAI,CAAC,mBAAmB,EAAE,KAAK,MAAM,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACrE,CAAC;IAEM,sBAAO,GAAd;QACI,IAAI,CAAC,mBAAmB,EAAE,KAAK,IAAI,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACnE,CAAC;IAEM,oBAAK,GAAZ;QACI,IAAI,CAAC,mBAAmB,EAAE,KAAK,MAAM,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACtE,CAAC;IAEM,gCAAiB,GAAxB,UAAyB,EAAc;QACnC,IAAI,CAAC,yBAAyB,GAAG,EAAE,CAAC;IACxC,CAAC;IAEO,kCAAmB,GAA3B;QACI,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,EAAE;YACjD,OAAO,MAAM,CAAC;SACjB;QACD,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,EAAE;YAChD,OAAO,OAAO,CAAC;SAClB;QACD,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE;YACjD,OAAO,IAAI,CAAC;SACf;QACD,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,EAAE;YAChD,OAAO,MAAM,CAAC;SACjB;IACL,CAAC;IAEO,2BAAY,GAApB,UAAqB,CAAa,EAAE,CAAa;QAC7C,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,yBAAyB,EAAE;IACpC,CAAC;IAEO,+BAAgB,GAAxB,UAAyB,KAAa;QAClC,OAAO;YACH,QAAQ,EAAE;gBACN,CAAC,EAAE,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;aAC/D;YACD,KAAK,EAAE,IAAI,CAAC,UAAU;SACzB,CAAC;IACN,CAAC;IAEO,2BAAY,GAApB;QACI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;IACtC,CAAC;IAEO,sBAAO,GAAf;QACI,IAAI,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAE9D,OAAM,IAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,EAAE;YAC3C,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;SAC7D;QACD,+DAA+D;QAC/D,OAAO;YACH,QAAQ;YACR,KAAK,EAAE,MAAM;SAChB,CAAC;IACN,CAAC;IAEO,uCAAwB,GAAhC,UAAiC,CAAS;QACtC,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,UAAC,CAAC,IAAK,WAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,EAArC,CAAqC,CAAC,CAAC;IAClF,CAAC;IAEc,sBAAiB,GAAhC,UAAiC,KAAa,EAAE,KAAa;QACzD,OAAO;YACH,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;YAC3B,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;SAC9B,CAAC;IACN,CAAC;IAEc,sBAAiB,GAAhC,UAAiC,CAAS,EAAE,CAAS;QACjD,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACpC,CAAC;IAEc,iBAAY,GAA3B,UAA4B,GAAW;QACnC,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,GAAG,GAAG;IAChD,CAAC;IAEL,WAAC;AAAD,CAAC;AA3JY,oBAAI;;;;;;;;;;;;;;;ACRjB;IAAA;QACY,UAAK,GAAQ,EAAE,CAAC;IAc5B,CAAC;IAbU,sBAAM,GAAb,UAAc,IAAO;QACjB,IAAI,CAAC,KAAK,GAAO,IAAI,CAAC,KAAK,SAAE,IAAI,EAAC;IACtC,CAAC;IACM,sBAAM,GAAb;QACU,mBAAyB,EAAxB,SAAC,EAAE,kBAAqB,CAAC;QAChC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACtB,CAAC;IACM,iCAAiB,GAAxB;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IAC7C,CAAC;IACM,sBAAM,GAAb;QACI,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IACL,YAAC;AAAD,CAAC;AAfY,sBAAK;;;;;;;;;;;;;;;ACQlB;IAGI,kBAAoB,MAAyB,EAAU,eAAuB;QAA1D,WAAM,GAAN,MAAM,CAAmB;QAAU,oBAAe,GAAf,eAAe,CAAQ;QADtE,gBAAW,GAA2B,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC;QAEvD,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC;IACM,wBAAK,GAAZ,UAAa,CAAS,EAAE,CAAS;QAC7B,IAAI,CAAC,WAAW,GAAG,EAAC,CAAC,KAAE,CAAC,KAAC,CAAC;QAC1B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC7B,CAAC;IACM,uBAAI,GAAX,UAAY,KAAe;QAA3B,iBAMC;QALG,KAAK,CAAC,OAAO,CAAC,UAAC,CAAC;YACZ,KAAI,CAAC,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC,KAAK,CAAC;YACjC,KAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACxD,KAAI,CAAC,OAAO,CAAC,SAAS,GAAG,KAAI,CAAC,eAAe,CAAC;QAClD,CAAC,CAAC,CAAC;IACP,CAAC;IACM,wBAAK,GAAZ;QACI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IAClH,CAAC;IACL,eAAC;AAAD,CAAC;AApBY,4BAAQ;;;;;;;;;;;;;;;ACRrB,gEAA4B;AAC5B,mEAA8B;AAC9B,4EAA4C;AAG5C,IAAM,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAsB,CAAC;AACrE,IAAM,QAAQ,GAAG,IAAI,mBAAQ,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AAC9C,QAAQ,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AACvB,IAAM,KAAK,GAAG,IAAI,aAAK,EAAU,CAAC;AAClC,IAAM,IAAI,GAAG,IAAI,WAAI,CAAC,KAAK,CAAC,CAAC;AAC7B,IAAI,OAAO,GAAY,IAAI,CAAC;AAE5B,IAAM,IAAI,GAAG,UAAC,KAAoB,EAAE,IAAY,EAAE,QAAkB;IAChE,QAAQ,CAAC,KAAK,EAAE,CAAC;IACjB,QAAQ,CAAC,IAAI,CAAK,KAAK,CAAC,MAAM,EAAE,SAAE,IAAI,GAAE,CAAC;IACzC,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC,QAAQ,EAAE,CAAC;AACnF,CAAC,CAAC;AAEF,IAAI,CAAC,UAAU,CAAC,UAAC,MAAc;IAC3B,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACxB,CAAC,CAAC,CAAC;AAEH,IAAI,CAAC,iBAAiB,CAAC;IACnB,IAAI,CAAC,SAAS,EAAE;AACpB,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,CAAC;IAC/B,QAAQ,CAAC,CAAC,IAAI,EAAE;QACZ,KAAK,SAAS;YACV,IAAI,CAAC,KAAK,EAAE,CAAC;YACb,MAAM;QACV,KAAK,WAAW;YACZ,IAAI,CAAC,OAAO,EAAE,CAAC;YACf,MAAM;QACV,KAAK,WAAW;YACZ,IAAI,CAAC,OAAO,EAAE,CAAC;YACf,MAAM;QACV,KAAK,YAAY;YACb,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,MAAM;QACV;YACI,MAAM;KACb;AACL,CAAC,CAAC,CAAC;AAEH,IAAM,IAAI,GAAG;IACT,IAAM,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;IACnC,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC5B,qBAAqB,CAAC,IAAI,CAAC,CAAC;AAChC,CAAC,CAAC;AAEF,IAAI,EAAE,CAAC;AAGP,IAAM,QAAQ,GAAG,UAAC,EAAU;IACxB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACd,qBAAqB,CAAC,QAAQ,CAAC,CAAC;AACpC,CAAC,CAAC;AACF,QAAQ,CAAC,CAAC,CAAC,CAAC","file":"dist.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","import {Queue} from \"./Queue\";\nimport {ICords, IPoint} from \"./Renderer\";\n\ninterface IDirection {\n    x: 1 | 0 | -1;\n    y: 1 | 0 | -1;\n}\n\nexport class Game {\n    private starting: IPoint = {\n        location: {x: 0, y: 0},\n        color: \"#FF0\"\n    };\n    private onDirectionChangeCallback: () => void;\n    private onGameOverCallback: (reason: string) => void;\n    private direction: IDirection = {x: 1, y: 0};\n    private readonly MAX_X = 50;\n    private readonly MAX_Y = 50;\n    private currentFrog: IPoint = null;\n    private isGameOver: boolean = false;\n    private lastStep: number = 0;\n    private currentFrame: number = 0;\n\n    constructor(private arena: Queue<IPoint>, private snakeColor: string = \"#FF0\") {\n        arena.insert(this.starting);\n        arena.insert(this.getDirectedPoint(this.starting.location));\n        this.starting.color = snakeColor;\n        this.spawnNewFrog();\n    }\n\n    public getCurrentFrog(): IPoint {\n        return this.currentFrog;\n    }\n\n    public getCurrentScore(): number {\n        return this.arena.getAll().length;\n    }\n\n    public forceStep(): void {\n        this.lastStep = this.currentFrame;\n        const head = this.getDirectedPoint(this.arena.queryFirstElement().location);\n        if (Game.areSameCoordinate(head.location, this.currentFrog.location)) {\n            this.spawnNewFrog();\n        } else {\n            this.arena.remove();\n        }\n        if (this.snakeContainsCoordinates(head.location)) {\n            this.onGameOverCallback(\"collided with body\");\n            this.isGameOver = true;\n            return;\n        }\n        if (head.location.x > this.MAX_X || head.location.y > this.MAX_Y || head.location.x < 0 || head.location.y < 0) {\n            this.onGameOverCallback(\"went through wall\");\n            this.isGameOver = true;\n            return;\n        }\n        // if head collides with body, exit\n        // if head collies with wall, exit\n        this.arena.insert(head);\n    }\n\n    public step(dt: number): void {\n        if (this.isGameOver) {\n            return;\n        }\n        this.currentFrame = dt;\n        if (dt - this.lastStep < 500) {\n            return;\n        }\n        this.lastStep = dt;\n        this.forceStep();\n    }\n\n    public onGameOver(fn: (reason: string) => void): void {\n        this.onGameOverCallback = fn;\n    }\n\n    public setLeft(): void {\n        this.getCurrentDirection() !== \"RIGHT\" && this.setDirection(-1, 0);\n    }\n\n    public setRight(): void {\n        this.getCurrentDirection() !== \"LEFT\" && this.setDirection(1, 0);\n    }\n\n    public setDown(): void {\n        this.getCurrentDirection() !== \"UP\" && this.setDirection(0, 1);\n    }\n\n    public setUp(): void {\n        this.getCurrentDirection() !== \"DOWN\" && this.setDirection(0, -1);\n    }\n\n    public onDirectionChange(fn: () => void): void {\n        this.onDirectionChangeCallback = fn;\n    }\n\n    private getCurrentDirection(): \"UP\" | \"DOWN\" | \"LEFT\" | \"RIGHT\" {\n        if (this.direction.x == -1 && this.direction.y == 0) {\n            return \"LEFT\";\n        }\n        if (this.direction.x == 1 && this.direction.y == 0) {\n            return \"RIGHT\";\n        }\n        if (this.direction.x == 0 && this.direction.y == -1) {\n            return \"UP\";\n        }\n        if (this.direction.x == 0 && this.direction.y == 1) {\n            return \"DOWN\";\n        }\n    }\n\n    private setDirection(x: 1 | 0 | -1, y: 1 | 0 | -1): void {\n        this.direction.x = x;\n        this.direction.y = y;\n        this.onDirectionChangeCallback()\n    }\n\n    private getDirectedPoint(cords: ICords): IPoint {\n        return {\n            location: {\n                x: cords.x + this.direction.x, y: cords.y + this.direction.y\n            },\n            color: this.snakeColor\n        };\n    }\n\n    private spawnNewFrog(): void {\n        this.currentFrog = this.getFrog();\n    }\n\n    private getFrog(): IPoint {\n        let location = Game.getRandomLocation(this.MAX_X, this.MAX_Y);\n\n        while(this.snakeContainsCoordinates(location)) {\n            location = Game.getRandomLocation(this.MAX_X, this.MAX_Y);\n        }\n        // check if location exists on snake if so, then get a new one.\n        return {\n            location,\n            color: \"#0FF\"\n        };\n    }\n\n    private snakeContainsCoordinates(a: ICords): boolean {\n        return this.arena.getAll().some((x) => Game.areSameCoordinate(x.location, a));\n    }\n\n    private static getRandomLocation(max_x: number, max_y: number): ICords {\n        return {\n            x: Game.getRandomNum(max_x),\n            y: Game.getRandomNum(max_y),\n        };\n    }\n\n    private static areSameCoordinate(a: ICords, b: ICords): boolean {\n        return a.x == b.x && a.y == b.y;\n    }\n\n    private static getRandomNum(max: number): number {\n        return Math.floor(Math.random() * 100) % max\n    }\n\n}\n","export class Queue<T> {\n    private items: T[] = [];\n    public insert(item: T): void {\n        this.items = [...this.items, item]\n    }\n    public remove(): void {\n        const [_, ...rest] = this.items;\n        this.items = rest;\n    }\n    public queryFirstElement(): T {\n        return this.items[this.items.length - 1];\n    }\n    public getAll(): T[] {\n        return this.items;\n    }\n}\n","export interface ICords {\n    x: number;\n    y: number;\n}\nexport interface IPoint {\n    location: ICords;\n    color: string;\n}\nexport class Renderer {\n    private context: CanvasRenderingContext2D;\n    private scaleFactor: {x: number, y: number} = {x: 1, y: 1};\n    constructor(private canvas: HTMLCanvasElement, private backgroundColor: string) {\n        this.context = canvas.getContext(\"2d\");\n    }\n    public scale(x: number, y: number): void {\n        this.scaleFactor = {x, y};\n        this.context.scale(x, y);\n    }\n    public draw(cords: IPoint[]): void {\n        cords.forEach((c) => {\n            this.context.fillStyle = c.color;\n            this.context.fillRect(c.location.x, c.location.y, 1, 1);\n            this.context.fillStyle = this.backgroundColor;\n        });\n    }\n    public clear(): void {\n        this.context.clearRect(0, 0, this.canvas.height * this.scaleFactor.y, this.canvas.width * this.scaleFactor.x);\n    }\n}\n","import {Game} from \"./Game\";\nimport {Queue} from \"./Queue\";\nimport {IPoint, Renderer} from \"./Renderer\";\nimport Timeout = NodeJS.Timeout;\n\nconst canvas = document.getElementById(\"arena\") as HTMLCanvasElement;\nconst renderer = new Renderer(canvas, \"#FFF\");\nrenderer.scale(10, 10);\nconst queue = new Queue<IPoint>();\nconst game = new Game(queue);\nlet handler: Timeout = null;\n\nconst draw = (queue: Queue<IPoint>, frog: IPoint, renderer: Renderer) => {\n    renderer.clear();\n    renderer.draw([...queue.getAll(), frog]);\n    document.getElementById(\"score\").innerText = game.getCurrentScore().toString();\n};\n\ngame.onGameOver((reason: string) => {\n    console.log(reason);\n});\n\ngame.onDirectionChange(() => {\n    game.forceStep()\n});\n\nwindow.addEventListener(\"keyup\", (e) => {\n    switch (e.code) {\n        case \"ArrowUp\":\n            game.setUp();\n            break;\n        case \"ArrowDown\":\n            game.setDown();\n            break;\n        case \"ArrowLeft\":\n            game.setLeft();\n            break;\n        case \"ArrowRight\":\n            game.setRight();\n            break;\n        default:\n            break;\n    }\n});\n\nconst loop = () => {\n    const frog = game.getCurrentFrog();\n    draw(queue, frog, renderer);\n    requestAnimationFrame(loop);\n};\n\nloop();\n\n\nconst gameStep = (dt: number) => {\n    game.step(dt);\n    requestAnimationFrame(gameStep);\n};\ngameStep(0);\n"],"sourceRoot":""}